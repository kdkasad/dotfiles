#!/bin/sh

case $BUTTON in
	1) volmute ;;
	2) volup ;;
	3) voldown ;;
esac >/dev/null

if type amixer >/dev/null 2>&1; then # ALSA
	if amixer get Master | grep Mono: | grep off >/dev/null; then
		printf 'ğŸ”‡'
		exit
	fi
	printf 'ğŸ”Š'
	amixer get Master | grep Mono: | grep -o '[0-9]\{1,3\}%'
else # PulseAudio
	if pactl list sinks | grep 'Mute: yes' >/dev/null; then
		printf 'ğŸ”‡'
		exit
	fi
	printf 'ğŸ”Š'
	pactl list sinks | grep -m 1 '^\s*Volume:' | grep -o '[0-9]\{1,3\}%'
fi
